<!-- FULL FINAL MERGED PACKIT SITE -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>PackIt - Smart Travel Assistant</title>
  <style>
    * { box-sizing: border-box; }
    html { scroll-behavior: smooth; }
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(-45deg, #a1c4fd, #c2e9fb, #ffecd2, #fcb69f);
      background-size: 800% 800%;
      animation: bg 25s ease infinite;
      color: #333;
    }
    @keyframes bg {
      0%,100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }
    header {
      text-align: center;
      padding: 60px 20px;
      color: white;
      background: rgba(0,0,0,0.4);
      text-shadow: 0 0 10px black;
    }
    nav {
      display: flex;
      justify-content: center;
      gap: 30px;
      background: white;
      padding: 15px;
      position: sticky;
      top: 0;
      z-index: 99;
    }
    nav a {
      color: #0083b0;
      font-weight: bold;
      text-decoration: none;
    }
    nav a:hover {
      text-decoration: underline;
    }
    section {
      max-width: 1000px;
      margin: 60px auto;
      background: white;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    input, select, button {
      font-size: 16px;
      padding: 10px;
      margin-top: 10px;
      border-radius: 6px;
      border: 1px solid #ccc;
      width: 100%;
    }
    button {
      background: #00b894;
      color: white;
      border: none;
      cursor: pointer;
      transition: 0.3s;
    }
    button:hover {
      background: #019874;
    }
    ul { padding-left: 20px; }
    footer {
      text-align: center;
      padding: 20px;
      background: #0083b0;
      color: white;
    }
    .tip-box {
      margin-top: 20px;
      padding: 20px;
      background: #f1f1f1;
      border-left: 4px solid #00b894;
      font-style: italic;
    }
  </style>
</head>
<body>

  <header>
    <h1>üß≥ PackIt</h1>
    <p>Your Smartest Travel Buddy ‚Äî Plan. Pack. Explore.</p>
  </header>

  <nav>
    <a href="#start">Start Packing</a>
    <a href="#explore">Explore</a>
    <a href="#faq">FAQ</a>
  </nav>

  <!-- Packing Section -->
  <section id="start">
    <h2>üì¶ Start Packing</h2>
    <form onsubmit="event.preventDefault(); generatePackingList();">
      <input type="text" id="destination" placeholder="Enter city (e.g. Goa)" required />
      <input type="number" id="days" placeholder="Number of days" required />
      <input type="number" id="males" placeholder="Number of males" required />
      <input type="number" id="females" placeholder="Number of females" required />
      <input type="number" id="children" placeholder="Number of children" required />
      <select id="tripType">
        <option value=\"Casual\">Casual Trip</option>
        <option value=\"Business\">Business Trip</option>
        <option value=\"Family\">Family Trip</option>
        <option value=\"Solo\">Solo Adventure</option>
      </select>
      <input type="date" id="startDate" required />
      <button type="submit">Generate Packing List</button>
    </form>
    <div id="packingList" style="margin-top: 30px;"></div>
    <div id="travelTip" class="tip-box"></div>
    <button onclick="nextTip()">Next Travel Tip</button>
  </section>

  <!-- Explore Tab -->
  <section id="explore">
    <h2>üåç Explore a Destination</h2>
    <form onsubmit="event.preventDefault(); exploreDestination();">
      <input type="text" id="exploreCity" placeholder="e.g. Paris" required />
      <button type="submit">Explore</button>
    </form>
    <div id="exploreResult" style="margin-top: 30px;"></div>
  </section>

  <!-- FAQ -->
  <section id="faq">
    <h2>‚ùì Frequently Asked Questions</h2>
    <p><strong>Q:</strong> Is PackIt free?<br><strong>A:</strong> Yes, totally free!</p>
    <p><strong>Q:</strong> How do packing suggestions work?<br><strong>A:</strong> Based on weather, gender, trip type, and children.</p>
    <p><strong>Q:</strong> How do you fetch local info?<br><strong>A:</strong> Using Geoapify Places API & Wikipedia.</p>
    <p><strong>Q:</strong> Can I download the list?<br><strong>A:</strong> Coming soon!</p>
  </section>

  <footer>
    Made with ‚ù§Ô∏è by Samarth ‚Ä¢ <a href=\"mailto:samarthk.5655@gmail.com\" style=\"color:white;\">Contact Me</a>
  </footer>

  <script>
    const tips = [
      \"Roll clothes instead of folding to save space.\",
      \"Pack socks inside shoes to save space.\",
      \"Always carry a power bank.\",
      \"Pack 1 outfit per day + 1 extra.\",
      \"Keep documents in a waterproof pouch.\",
      \"Use packing cubes to organize.\",
      \"Don't forget chargers and adapters.\",
      \"Pack medicines and a small first-aid kit.\",
      \"Bring a reusable water bottle.\",
      \"Always carry a pen while flying.\",
      \"Label your luggage clearly.\",
      \"Pack light snacks for journeys.\",
      \"Check weather before packing shoes.\",
      \"Use ziplock bags for toiletries.\",
      \"Download offline maps before your trip.\"
    ];
    let tipIndex = 0;
    function nextTip() {
      document.getElementById(\"travelTip\").innerText = \"üí° Tip: \" + tips[tipIndex];
      tipIndex = (tipIndex + 1) % tips.length;
    }

    async function getCoordinates(city) {
      const res = await fetch(`https://geocoding-api.open-meteo.com/v1/search?name=${city}`);
      const data = await res.json();
      if (!data.results || data.results.length === 0) throw new Error(\"City not found\");
      return { lat: data.results[0].latitude, lon: data.results[0].longitude, name: data.results[0].name };
    }

    async function getWeather(lat, lon) {
      const res = await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current_weather=true`);
      const data = await res.json();
      return data.current_weather.temperature;
    }

    function suggestItems(temp, males, females, children, days, tripType) {
      let items = [`Underwear x${days}`, `Socks x${days}`, `Toothbrush`, `Phone Charger`];
      if (temp < 10) items.push(\"Heavy Jacket\", \"Thermals\", \"Gloves\");
      else if (temp < 20) items.push(\"Light Jacket\", \"Sweater\");
      else items.push(\"T‚ÄëShirts\", \"Shorts\", \"Sunscreen\");
      if (males > 0) items.push(\"Shaving Kit\");
      if (females > 0) items.push(\"Makeup Kit\", \"Hairbrush\");
      if (children > 0) items.push(\"Toys\", \"Baby Wipes\", \"Diapers\");
      if (tripType === \"Business\") items.push(\"Formal Shoes\", \"Blazer\", \"Laptop\");
      if (tripType === \"Family\") items.push(\"Snacks\", \"Medicines for all ages\");
      if (tripType === \"Solo\") items.push(\"Selfie Stick\", \"Travel Journal\");
      return items;
    }

    async function generatePackingList() {
      const city = document.getElementById('destination').value;
      const days = +document.getElementById('days').value;
      const males = +document.getElementById('males').value;
      const females = +document.getElementById('females').value;
      const children = +document.getElementById('children').value;
      const tripType = document.getElementById('tripType').value;
      const startDate = new Date(document.getElementById('startDate').value);
      const today = new Date();
      const countdown = Math.ceil((startDate - today) / (1000 * 60 * 60 * 24));

      const coords = await getCoordinates(city).catch(e => alert(e.message));
      if (!coords) return;
      const temp = await getWeather(coords.lat, coords.lon);
      const items = suggestItems(temp, males, females, children, days, tripType);

      document.getElementById('packingList').innerHTML = `
        <h3>üß≥ Packing List for ${coords.name} (Temp: ${temp}¬∞C)</h3>
        <p>üóìÔ∏è ${countdown} days left until your trip</p>
        <ul>${items.map(i => `<li>${i}</li>`).join('')}</ul>
      `;
      nextTip();
    }

    async function exploreDestination() {
      const city = document.getElementById(\"exploreCity\").value.trim();
      const geoKey = \"97acd85724d34f8797951504de1758da\";
      const res = await fetch(`https://api.geoapify.com/v1/geocode/search?text=${city}&apiKey=${geoKey}`);
      const geo = await res.json();
      if (!geo.features.length) {
        document.getElementById('exploreResult').innerHTML = `<p>‚ùå City not found.</p>`; return;
      }
      const { lat, lon } = geo.features[0].properties;

      const wiki = await fetch(`https://en.wikipedia.org/api/rest_v1/page/summary/${encodeURIComponent(city)}`).then(r => r.json());

      const sights = await fetch(`https://api.geoapify.com/v2/places?categories=tourism.sights&filter=circle:${lon},${lat},5000&limit=5&apiKey=${geoKey}`).then(r => r.json());
      const food = await fetch(`https://api.geoapify.com/v2/places?categories=catering.restaurant&filter=circle:${lon},${lat},5000&limit=5&apiKey=${geoKey}`).then(r => r.json());

      document.getElementById(\"exploreResult\").innerHTML = `
        <h3>üìú About ${wiki.title}</h3>
        <p>${wiki.extract}</p>
        <h3>üó∫Ô∏è Top Attractions</h3>
        <ul>${sights.features.map(p => `<li>${p.properties.name || \"Unnamed\"}</li>`).join('')}</ul>
        <h3>üçΩÔ∏è Famous Restaurants</h3>
        <ul>${food.features.map(p => `<li>${p.properties.name || \"Unnamed\"}</li>`).join('')}</ul>
      `;
    }
  </script>
</body>
</html>
